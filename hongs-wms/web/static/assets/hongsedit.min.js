function setFormItems(a,c){a.on("loadOver",function(b,d){b=a.find("[data-toggle=dateinput],[data-toggle=datetimepicker]");b.size()&&forDateInput();b=a.find("[data-toggle=suggest]");b.size()&&forSuggInput();b=a.find("[data-toggle=fileinput]");b.size()&&setFileInput(b);b=a.find("[data-toggle=tagsinput]");b.size()&&setTagsInput(b);b=a.find("textarea[data-type=html]");b.size()&&setEditor(b);b=a.find("textarea[data-type=code]");b.size()&&setMirror(b)});a.on("willSave",function(b,d){synEditor(a.find("textarea[data-type]"));
d&&a.find("textarea[data-type]").each(function(){d.set($(this).attr("name"),$(this).val())})});c.on("hsClose",function(b,d){desEditor(a.find("textarea[data-type]"))})}function setInfoItems(a,c){a.on("loadOver",function(b,d){b=a.find("textarea[data-type=code]");b.size()&&setMirror(b);b=a.find("pre[data-type=code]");b.size()&&setMirror(b)});c.on("hsClose",function(b,d){desEditor(a.find("textarea[data-type]"))})}
function forDateInput(a){hsRequires(["static/addons/bootstrap-datetimepicker/css/datetimepicker.min.css","static/addons/bootstrap-datetimepicker/datetimepicker.min.js"],a)}function forSuggInput(a){hsRequires(["static/addons/bootstrap-suggest/suggest.min.js"],a)}function forFileInput(a){hsRequires(["static/addons/bootstrap-fileinput/css/fileinput.min.css","static/addons/bootstrap-fileinput/fileinput.min.js"],a)}function setFileInput(a,c){forFileInput(function(){a.hsFileInput();c&&c.call(a)})}
function forTagsInput(a){hsRequires(["static/addons/bootstrap-tagsinput/css/tagsinput.min.css","static/addons/bootstrap-tagsinput/tagsinput.min.js"],a)}function setTagsInput(a,c){forTagsInput(function(){a.hsTagsInput();c&&c.call(a)})}function synEditor(a){a.each(function(){$(this).data("synchro")&&$(this).data("synchro")()})}function desEditor(a){a.each(function(){$(this).data("destroy")&&$(this).data("destroy")()})}
function forEditor(a){hsRequires(["static/addons/summernote/summernote.min.css","static/addons/summernote/summernote.min.js"],function(){var c=HsLANG.lang;(c=c&&"en_US"!=c?c.replace("_","-"):null)?hsRequires(["static/addons/summernote/lang/summernote-"+c+".js"],a):a()})}
function setEditor(a,c){forMirror(function(){forEditor(function(){a.each(function(){var a=this,d=$(this).hsData()||{},c=HsLANG.lang.replace("_","-"),f={toolbar:[["font",["color","bold","italic"]],["inst",["table","picture","link"]],["para",["style","paragraph","ul","ol"]],["misc",["clean","codeview"]]],buttons:{clean:function(){return $.summernote.ui.button({contents:'<i class="note-icon-eraser"></i>',tooltip:$.summernote.lang[c].font.clear,click:function(){var b=$(a).summernote("code");/<\w+[^>]+>/.test(b)?
(b=b.replace(/\x3c!--[\S\s]*?--\x3e/mg,""),b=b.replace(/(<font(\s[^>]*)?>|<\/font>)/mg,""),b=b.replace(/(<span(\s[^>]*)?>|<\/span>)/mg,""),b=b.replace(/\s(style|class|align|color)="[\S\s]*?"/mg,"")):(b=b.replace(/^/g,"<p>"),b=b.replace(/$/g,"</p>"));$(a).summernote("code",b)}}).render()}},callbacks:{onImageUpload:function(b){for(var c=new FormData,d=0;d<b.length;d++)c.append("file.",b[d]);$.ajax({url:hsFixUri(ADD_IMG_HREF),data:c,type:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,
success:function(b){b=hsResponse(b);if(b.ok)for(var c=0;c<b.file.length;c++)$(a).summernote("insertImage",b.file[c])}})}},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},styleTags:"p h6 h5 h4 h3 h2 h1".split(" "),colorButton:{foreColor:"#FFFFFF",backColor:"#474949"},placeholder:$(this).attr("placeholder")||"",minHeight:1*$(this).height(),maxHeight:2*$(this).height(),lang:c};$(this).summernote($.extend(f,d));$(this).siblings(".note-editor").find(".note-current-color-button").attr("data-backcolor",
"inherit").find("i").css("background-color","inherit");$(this).data("destroy",function(){$(a).summernote("destroy")})});c&&c.call(a)})},"xml")}function forMirror(a,c){hsRequires(["static/addons/codemirror/codemirror.min.css","static/addons/codemirror/codemirror.min.js"],function(){$.isArray(c)||(c=[c]);for(var b=[],d=0;d<c.length;d++)b.push("static/addons/codemirror/mode/"+c[d]+"/"+c[d]+".js");b.length?hsRequires(b,a):a()})}
function setMirror(a,c){var b=[];a.each(function(){var a=$(this).data("mode")||$(this).data("type");a=getModeByName(a);b.push(a[0])});forMirror(function(){a.each(function(){var a=$(this),b=$(this).prop("readonly")&&"nocursor",c=$(this).data("mode")||$(this).data("type");c=getModeByName(c);if(a.is("textarea")){var e=CodeMirror.fromTextArea(a[0],{mode:c[1],lineNumbers:!0,readOnly:b});b=$(e.getWrapperElement());b.addClass("form-control");b.height(a.height());a.addClass("invisible");a.data("CM",e);a.data("destroy",
function(){e.toTextArea()});a.data("synchro",function(){e.save()})}else e=CodeMirror(a.parent()[0],{mode:c[1],lineNumbers:!0,readOnly:"nocursor",value:a.text()}),b=$(e.getWrapperElement()),b.addClass("form-control-static"),b.height("auto"),a.data("CM",e),a.text(""),a.hide()});c&&c.call(a)},b)}function getModeByName(a){return a?(a=a.replace(/.*\./,""),EXTN_TO_MODE[a]||[a,a]):[a,a]}
var ADD_IMG_HREF=hsChkUri("centra")?"centra/data/upload/image/create.act":"centre/data/upload/image/create.act",EXTN_TO_MODE={h:["clike","text/x-c"],c:["clike","text/x-c"],cpp:["clike","text/x-c++src"],cs:["clike","text/x-csharp"],mm:["clike","text/x-objectivec"],m:["clike","text/x-objectivec"],java:["clike","text/x-java"],scala:["clike","text/x-scala"],kotlin:["clike","text/x-kotlin"],groovy:["groovy","groovy"],gradle:["groovy","groovy"],json:["javascript","application/json"],js:["javascript","text/javascript"],
ts:["javascript","text/typescrpit"],coffee:["coffee","text/coffeescript"],jsx:["jsx","jsx"],vue:["vue","vue"],xml:["xml","xml"],xsd:["xml","xml"],dtd:["dtd","dtd"],html:["htmlmixed","text/html"],htm:["htmlmixed","text/html"],asp:["htmlembedded","text/aspx"],jsp:["htmlembedded","text/jsp"],go:["go","go"],sql:["sql","sql"],lua:["lua","lua"],php:["php","php"],rb:["ruby","ruby"],py:["python","python"],pl:["perl","perl"],pm:["perl","perl"],sh:["shell","shell"],bat:["shell","shell"],cmd:["shell","shell"],
ps1:["powershell","powershell"],css:["css","css"],scss:["css","text/x-scss"],less:["css","text/x-less"],sass:["sass","text/x-sass"],md:["markdown","markdown"],proto:["protobuf","protobuf"],ini:["properties","properties"],cnf:["properties","properties"],conf:["properties","properties"],properties:["properties","properties"]};
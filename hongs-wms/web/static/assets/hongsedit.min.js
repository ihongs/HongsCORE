
function setFormItems(b,a){b.on("loadOver",function(c,e){var d;d=b.find("[data-toggle=dateinput],[data-toggle=datetimepicker]");if(d.size()){forDateInput()}d=b.find("[data-toggle=suggest]");if(d.size()){forSuggInput()}d=b.find("[data-toggle=fileinput]");if(d.size()){setFileInput(d)}d=b.find("[data-toggle=tagsinput]");if(d.size()){setTagsInput(d)}d=b.find("textarea[data-type=html]");if(d.size()){setEditor(d)}d=b.find("textarea[data-type=code]");if(d.size()){setMirror(d)}});b.on("willSave",function(c,d){synEditor(b.find("textarea[data-type]"));if(d){b.find("textarea[data-type]").each(function(){d.set($(this).attr("name"),$(this).val())})}});a.on("hsClose",function(c,d){desEditor(b.find("textarea[data-type]"))})}function setInfoItems(b,a){b.on("loadOver",function(c,e){var d;d=b.find("textarea[data-type=code]");if(d.size()){setMirror(d)}d=b.find("pre[data-type=code]");if(d.size()){setMirror(d)}});a.on("hsClose",function(c,d){desEditor(b.find("textarea[data-type]"))})}function forDateInput(a){hsRequires(["static/addons/bootstrap-datetimepicker/css/datetimepicker.min.css","static/addons/bootstrap-datetimepicker/datetimepicker.min.js"],a)}function forSuggInput(a){hsRequires(["static/addons/bootstrap-suggest/suggest.min.js"],a)}function forFileInput(a){hsRequires(["static/addons/bootstrap-fileinput/css/fileinput.min.css","static/addons/bootstrap-fileinput/fileinput.min.js"],a)}function setFileInput(b,a){forFileInput(function(){b.hsFileInput();a&&a.call(b)})}function forTagsInput(a){hsRequires(["static/addons/bootstrap-tagsinput/css/tagsinput.min.css","static/addons/bootstrap-tagsinput/tagsinput.min.js"],a)}function setTagsInput(b,a){forTagsInput(function(){b.hsTagsInput();a&&a.call(b)})}function synEditor(a){a.each(function(){if($(this).data("synchro")){$(this).data("synchro")()}})}function desEditor(a){a.each(function(){if($(this).data("destroy")){$(this).data("destroy")()}})}function forEditor(a){hsRequires(["static/addons/summernote/summernote.min.css","static/addons/summernote/summernote.min.js"],function(){var b=HsLANG.lang;if(b&&b!="en_US"){b=b.replace("_","-")}else{b=null}if(b){hsRequires(["static/addons/summernote/lang/summernote-"+b+".js"],a)}else{a()}})}function setEditor(b,a){forEditor(function(){b.each(function(){$(this).summernote({toolbar:[["base",["bold","italic","underline","strikethrough","clear"]],["font",["color","height","fontsize"]],["para",["paragraph","ul","ol"]],["list",["table","picture","link"]]],callbacks:{onImageUpload:function(e){var f=new FormData();for(var d=0;d<e.length;d++){f.append("file.",e[d])}$.ajax({url:hsFixUri(ADD_IMG_HREF),data:f,type:"POST",dataType:"json",cache:false,contentType:false,processData:false,success:function(h){h=hsResponse(h);if(!h.ok){return}for(var g=0;g<h.file.length;g++){$(c).summernote("insertImage",h.file[g])}}})}},height:$(this).height(),lang:HsLANG.lang.replace("_","-")});$(this).siblings(".note-editor").find(".note-current-color-button").attr("data-backcolor","inherit").find("i").css("background-color","inherit");var c=this;$(this).data("destroy",function(){$(c).summernote("destroy")})});a&&a.call(b)})}function forMirror(a,b){hsRequires(["static/addons/codemirror/codemirror.min.css","static/addons/codemirror/codemirror.min.js"],function(){if(b){hsRequires(["static/addons/codemirror/mode/"+b+"/"+b+".js"],a)}else{a()}})}function setMirror(b,a){forMirror(function(){b.each(function(){var c=$(this);var d=$(this).prop("readonly")&&"nocursor";var e=$(this).data("mode")||$(this).data("type");e=getModeByName(e);hsRequires(["static/addons/codemirror/mode/"+e[0]+"/"+e[0]+".js"],function(){if(c.is("textarea")){var f=CodeMirror.fromTextArea(c[0],{mode:e[1],readOnly:d,lineNumbers:true});var g=$(f.getWrapperElement());g.addClass("form-control");g.height(c.height());c.addClass("invisible");c.data("CM",f);c.data("destroy",function(){f.toTextArea()});c.data("synchro",function(){f.save()})}else{var f=CodeMirror(c.parent()[0],{mode:e,lineNumbers:true,readOnly:"nocursor",value:c.text()});var g=$(f.getWrapperElement());g.addClass("form-control-static");g.height("auto");c.data("CM",f);c.text("");c.hide()}a&&a.call(b)})})})}function getModeByName(a){if(a){a=a.replace(/.*\./,"");return EXTN_TO_MODE[a]||[a,a]}else{return[a,a]}}var ADD_IMG_HREF=hsChkUri("centra")?"centra/data/upload/image/create.act":"centre/data/upload/image/create.act";var EXTN_TO_MODE={h:["clike","text/x-c"],c:["clike","text/x-c"],cpp:["clike","text/x-c++src"],cs:["clike","text/x-csharp"],mm:["clike","text/x-objectivec"],m:["clike","text/x-objectivec"],java:["clike","text/x-java"],scala:["clike","text/x-scala"],kotlin:["clike","text/x-kotlin"],groovy:["groovy","groovy"],gradle:["groovy","groovy"],json:["javascript","application/json"],js:["javascript","text/javascript"],ts:["javascript","text/typescrpit"],jsx:["jsx","jsx"],vue:["vue","vue"],xml:["xml","xml"],xsd:["xml","xml"],html:["htmlmixed","text/html"],htm:["htmlmixed","text/html"],asp:["htmlembedded","text/aspx"],jsp:["htmlembedded","text/jsp"],sql:["sql","sql"],lua:["lua","lua"],php:["php","php"],py:["python","python"],rb:["ruby","ruby"],pl:["perl","perl"],pm:["perl","perl"],sh:["shell","shell"],bat:["shell","shell"],cmd:["shell","shell"],ps1:["powershell","powershell"],css:["css","css"],scss:["css","text/x-scss"],less:["css","text/x-less"],md:["markdown","markdown"],proto:["protobuf","protobuf"],ini:["properties","properties"],cnf:["properties","properties"],properties:["properties","properties"]};
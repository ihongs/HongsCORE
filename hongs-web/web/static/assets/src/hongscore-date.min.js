(function(e){function c(l,j){l=l?l:"";l=l.toString();var k=l.length;for(var m=k;m<j;m++){l="0"+l}return l}function g(j,k){j.find("[data-date]").each(function(){var l=e(this).data("date");switch(l){case"La":case"Sa":e(this).val(k.getHours()>11?1:0);break;case"LM":case"SM":e(this).val(k.getMonth());break;case"M":e(this).val(k.getMonth()+1);break;case"y":e(this).val(k.getFullYear());break;case"Sy":e(this).val(k.getFullYear()-2000);break;case"d":e(this).val(k.getDate());break;case"H":e(this).val(k.getHours());break;case"k":e(this).val(k.getHours()+1);break;case"K":e(this).val(k.getHours()%12);break;case"h":e(this).val(k.getHours()%12)+1;break;case"m":e(this).val(k.getMinutes());break;case"s":e(this).val(k.getSeconds());break;case"S":e(this).val(k.getMilliseconds());break}});return k}function a(k,l){var j=k.find("[data-date=La],[data-date=Sa]").val()=="1";k.find("[data-date]").each(function(){var m=e(this).data("date");var o=parseInt(e(this).val());if(isNaN(o)){var n;n=e(this).children().eq(0);o=parseInt(n.val());n.prop("selected",true)}switch(m){case"LM":case"SM":l.setMonth(o);break;case"M":l.setMonth(o-1);break;case"y":l.setFullYear(o);break;case"Sy":l.setFullYear(o+2000);break;case"d":l.setDate(o);break;case"H":l.setHours(o);break;case"k":l.setHours(o-1);break;case"K":l.setHours(o+(j?12:0));break;case"h":l.setHours(o+(j?11:-1));break;case"m":l.setMinutes(o);break;case"s":l.setSeconds(o);break;case"S":l.setMilliseconds(o);break}});return l}function i(k){var j=k.length;var l=k.substring(0,1);switch(l){case"a":if(j>=4){return h("La",hsGetLang("date.La"))}else{return h("Sa",hsGetLang("date.Sa"))}case"M":if(j>=4){return h("LM",hsGetLang("date.LM"))}if(j==3){return h("SM",hsGetLang("date.SM"))}else{return d("M",1,12,j)}case"y":if(j>=4){return d("y",1949,2099,j)}else{return d("Sy",0,99,j)}case"d":return d(l,1,31,j);case"H":return d(l,0,23,j);case"k":return d(l,1,24,j);case"K":return d(l,0,11,j);case"h":return d(l,1,12,j);case"m":return d(l,0,59,j);case"s":return d(l,0,59,j);case"S":return d(l,0,999,j)}}function h(l,k){var p='<select class="form-control datebox-'+l+'" data-date="'+l+'">';for(var n=k.length,o=0;o<n;o++){var m=k[o];p+='<option value="'+o+'">'+m+"</option>"}p+="</select>";return e(p)}function d(l,n,k,j){var o='<select class="form-control datebox-'+l+'" data-date="'+l+'">';for(;n<=k;n++){var m=c(n,j);o+='<option value="'+n+'">'+m+"</option>"}o+="</select>";return e(o)}function f(j){var k=e('<span class="input-group-addon"></span>');k.text(j);return k}function b(k){var n=e('<div class="input-group datebox"></div>');var m=/([MdyHkKhmsSa]+|[^MdyHkKhmsSa']+|'.*?')/g;var l=/^[MdyHkKhmsSa]+$/;var j;while((j=m.exec(k))!=null){j=j[0];if(l.test(j)){n.append(i(j))}else{n.append(f(j))}}n.append(f("").css("width","100%"));return n}e.fn.hsDate=function(){if(this.data("linked")){return}var j=this.data("format")||hsGetLang("datetime.format");var l=this;var k;do{k=l.siblings().filter("[data-widget=hsDate]");if(k.size()!=0){break}k=l.parent().filter("[data-widget=hsDate]");if(k.size()!=0){break}switch(j){case"time":j=hsGetLang("time.format");break;case"date":j=hsGetLang("date.format");break;case"datetime":case"":case null:j=hsGetLang("datetime.format")}l.addClass("invisible");k=b(j);k.insertBefore(l);k.find(".input-group-addon").last().css("text-align","right").html('<span class="today glyphicon glyphicon-time  "></span><span class="clear glyphicon glyphicon-remove"></span>');if(l.parent().is(".input-group")){l.before(k.contents());k.remove();k=l.parent();k.addClass("datebox")}}while(false);k.addClass("datebox");k.attr("data-widget","hsDate");k.data("linked",l);l.attr("data-toggle","hsDate");l.data("linked",k);l.trigger("change")};e.fn.hsTime=function(){if(this.data("linked")){return}var l=this.attr("type");var k=this.data("type");var o=this.data("format");var n=this.attr("pattern");var m=this;if(!o||!n){if(l=="time"){o="HH:mm";n="\\d{1,2}:\\d{1,2}"}else{if(l=="date"){o="yyyy-MM-dd";n="\\d{2,4}-\\d{1,2}-\\d{1,2}"}else{o="yyyy-MM-ddTHH:mm";n="\\d{2,4}-\\d{1,2}-\\d{1,2}T\\d{1,2}:\\d{1,2}"}}this.data("format",o);this.attr("pattern",n);this.attr("placeholder",o)}var j=this.next("input:hidden");if(!j.size()){j=this.prev("input:hidden")}if(!j.size()){j=e('<input type="hidden" class="form-ignored"/>');j.attr("name",this.attr("name"));this.attr("name","");if(!this.index()){this.after(j)}else{this.before(j)}}this.data("linked",j);j.data("linked",this);this.on("change",function(r){var p=e(this).val();if(p==""){j.val("");return}var s=hsPrsDate(p,o);var q=s.getTime();if(isNaN(q)||0===q){j.val("");return}if(k=="timestamp"||k=="datestamp"){q=Math.round(q/1000)}j.val(q);j.trigger(e.Event("change",{Date:s}))});j.on("change",function(q){var p=e(this).val();if(p==""){m.val("");return}if(q.Date){return}if(k=="timestamp"||k=="datestamp"){p=p*1000}var r=hsFmtDate(p,o);m.val(r)});if(this.val()){this.change()}else{if(j.val()){j.change()}}};e(document).on("change","[data-date=M],[data-date=SM],[data-date=LM]",function(){var l=e(this).closest(".input-group").find("[data-date=y],[data-date=Sy]").val();var k=e(this).closest(".input-group").find("[data-date=d]");var j=e(this).val();if(l<100){l+=2000}if(j==2){if((l%4==0&&l%100!=0)||(l%400==0)){k.find("option:gt(28)").prop("selected",false).hide()}else{k.find("option:gt(27)").prop("selected",false).hide()}}else{if((j<7&&j%2==0)||(j>7&&j%2==1)){k.find("option:gt(29)").prop("selected",false).hide()}else{k.find("option:gt(27)").show()}}});e(document).on("change","[data-widget=hsDate]",function(k){if(e(k.target).data("toggle")=="hsDate"){return}if(!e(this).data("linked")){return}var n=e(this);var m=n.data("linked");var j=m.data("format");var l=m.data("type");var o=a(n,new Date(0));var p;switch(j){case"time":j=hsGetLang("time.format");break;case"date":j=hsGetLang("date.format");break;case"datetime":j=hsGetLang("datetime.format");break;default:if(!j){j=hsGetLang("datetime.format")}}switch(l){case"time":p=o.getTime();break;case"timestamp":p=o.getTime()/1000;break;default:p=hsFmtDate(o,j)}m.val(p);m.trigger(e.Event("change",{Date:o}))});e(document).on("change","[data-toggle=hsDate]",function(k){if(e(k.target).data("toggle")!="hsDate"){return}if(!e(this).data("linked")){return}if(k.Date){return}var o=e(this);var n=o.data("linked");var j=o.data("format");var m=o.data("type");var p=o.val();var l=parseInt(p);switch(j){case"time":j=hsGetLang("time.format");break;case"date":j=hsGetLang("date.format");break;case"datetime":j=hsGetLang("datetime.format");default:if(!j){j=hsGetLang("datetime.format")}}if(!isNaN(l)&&(m=="timestamp"||m=="datestamp")){p=l*1000}if(!p){n.find("select").val("");o.val("");return}g(n,hsPrsDate(p,j))});e(document).on("click",".datebox .today",function(){var l=e(this).closest(".datebox").data("linked");var k=l.data("type");var j=new Date();if(k=="timestamp"||k=="datestamp"){l.val(j.getTime()/1000)}else{l.val(j.getTime())}l.change()});e(document).on("click",".datebox .clear",function(){var k=e(this).closest(".datebox").find("select");var j=e(this).closest(".datebox").data("linked");k.val("");j.val("");j.change()});e(document).on("hsReady",function(){e(this).find("[data-toggle=hsDate]").each(function(){e(this).hsDate()});e(this).find("[data-toggle=hsTime]").each(function(){e(this).hsTime()})})})(jQuery);
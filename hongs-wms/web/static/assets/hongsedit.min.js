
function setFormItems(b,a){b.on("loadOver",function(c,e){var d;d=b.find("[data-toggle=dateinput],[data-toggle=datetimepicker]");if(d.size()){forDateInput()}d=b.find("[data-toggle=suggest]");if(d.size()){forSuggInput()}d=b.find("[data-toggle=fileinput]");if(d.size()){setFileInput(d)}d=b.find("[data-toggle=tagsinput]");if(d.size()){setTagsInput(d)}d=b.find("textarea[data-type=html]");if(d.size()){setEditor(d)}d=b.find("textarea[data-type=code]");if(d.size()){setMirror(d)}});b.on("willSave",function(c,d){synEditor(b.find("textarea[data-type]"));if(d){b.find("textarea[data-type]").each(function(){d.set($(this).attr("name"),$(this).val())})}});a.on("hsClose",function(c,d){desEditor(b.find("textarea[data-type]"))})}function setInfoItems(b,a){b.on("loadOver",function(c,e){var d;d=b.find("textarea[data-type=code]");if(d.size()){setMirror(d)}d=b.find("pre[data-type=code]");if(d.size()){setMirror(d)}});a.on("hsClose",function(c,d){desEditor(b.find("textarea[data-type]"))})}function forDateInput(a){hsRequires(["static/addons/bootstrap-datetimepicker/css/datetimepicker.min.css","static/addons/bootstrap-datetimepicker/datetimepicker.min.js"],a)}function forSuggInput(a){hsRequires(["static/addons/bootstrap-suggest/suggest.min.js"],a)}function forFileInput(a){hsRequires(["static/addons/bootstrap-fileinput/css/fileinput.min.css","static/addons/bootstrap-fileinput/fileinput.min.js"],a)}function setFileInput(b,a){forFileInput(function(){b.hsFileInput();a&&a.call(b)})}function forTagsInput(a){hsRequires(["static/addons/bootstrap-tagsinput/css/tagsinput.min.css","static/addons/bootstrap-tagsinput/tagsinput.min.js"],a)}function setTagsInput(b,a){forTagsInput(function(){b.hsTagsInput();a&&a.call(b)})}function synEditor(a){a.each(function(){if($(this).data("synchro")){$(this).data("synchro")()}})}function desEditor(a){a.each(function(){if($(this).data("destroy")){$(this).data("destroy")()}})}function forEditor(a){hsRequires(["static/addons/summernote/summernote.min.css","static/addons/summernote/summernote.min.js"],function(){var b=HsLANG.lang;if(b&&b!="en_US"){b=b.replace("_","-")}else{b=null}if(b){hsRequires(["static/addons/summernote/lang/summernote-"+b+".js"],a)}else{a()}})}function setEditor(b,a){forEditor(function(){b.each(function(){var e=$(this).hsData()||{};var c={toolbar:[["base",["bold","italic","underline","strikethrough","clear"]],["font",["color","height","fontsize"]],["para",["paragraph","ul","ol"]],["list",["table","picture","link"]]],colorButton:{foreColor:"#FFFFFF",backColor:"#474949"},callbacks:{onImageUpload:function(g){var h=new FormData();for(var f=0;f<g.length;f++){h.append("file.",g[f])}$.ajax({url:hsFixUri(ADD_IMG_HREF),data:h,type:"POST",dataType:"json",cache:false,contentType:false,processData:false,success:function(k){k=hsResponse(k);if(!k.ok){return}for(var j=0;j<k.file.length;j++){$(d).summernote("insertImage",k.file[j])}}})}},placeholder:$(this).attr("placeholder")||"",minHeight:$(this).height()*1,maxHeight:$(this).height()*2,lang:HsLANG.lang.replace("_","-")};$(this).summernote($.extend(c,e));$(this).siblings(".note-editor").find(".note-current-color-button").attr("data-backcolor","inherit").find("i").css("background-color","inherit");var d=this;$(this).data("destroy",function(){$(d).summernote("destroy")})});a&&a.call(b)})}function forMirror(a,b){hsRequires(["static/addons/codemirror/codemirror.min.css","static/addons/codemirror/codemirror.min.js"],function(){if(!$.isArray(b)){b=[b]}var d=[];for(var c=0;c<b.length;c++){d.push("static/addons/codemirror/mode/"+b[c]+"/"+b[c]+".js")}if(d.length){hsRequires(d,a)}else{a()}})}function setMirror(c,b){var a=[];c.each(function(){var d=$(this).data("mode")||$(this).data("type");d=getModeByName(d);a.push(d[0])});forMirror(function(){c.each(function(){var f=$(this);var g=$(this).prop("readonly")&&"nocursor";var h=$(this).data("mode")||$(this).data("type");h=getModeByName(h);if(f.is("textarea")){var d=CodeMirror.fromTextArea(f[0],{mode:h[1],lineNumbers:true,readOnly:g});var e=$(d.getWrapperElement());e.addClass("form-control");e.height(f.height());f.addClass("invisible");f.data("CM",d);f.data("destroy",function(){d.toTextArea()});f.data("synchro",function(){d.save()})}else{var d=CodeMirror(f.parent()[0],{mode:h[1],lineNumbers:true,readOnly:"nocursor",value:f.text()});var e=$(d.getWrapperElement());e.addClass("form-control-static");e.height("auto");f.data("CM",d);f.text("");f.hide()}});b&&b.call(c)},a)}function getModeByName(a){if(a){a=a.replace(/.*\./,"");return EXTN_TO_MODE[a]||[a,a]}else{return[a,a]}}var ADD_IMG_HREF=hsChkUri("centra")?"centra/data/upload/image/create.act":"centre/data/upload/image/create.act";var EXTN_TO_MODE={h:["clike","text/x-c"],c:["clike","text/x-c"],cpp:["clike","text/x-c++src"],cs:["clike","text/x-csharp"],mm:["clike","text/x-objectivec"],m:["clike","text/x-objectivec"],java:["clike","text/x-java"],scala:["clike","text/x-scala"],kotlin:["clike","text/x-kotlin"],groovy:["groovy","groovy"],gradle:["groovy","groovy"],json:["javascript","application/json"],js:["javascript","text/javascript"],ts:["javascript","text/typescrpit"],coffee:["coffee","text/coffeescript"],jsx:["jsx","jsx"],vue:["vue","vue"],xml:["xml","xml"],xsd:["xml","xml"],dtd:["dtd","dtd"],html:["htmlmixed","text/html"],htm:["htmlmixed","text/html"],asp:["htmlembedded","text/aspx"],jsp:["htmlembedded","text/jsp"],go:["go","go"],sql:["sql","sql"],lua:["lua","lua"],php:["php","php"],rb:["ruby","ruby"],py:["python","python"],pl:["perl","perl"],pm:["perl","perl"],sh:["shell","shell"],bat:["shell","shell"],cmd:["shell","shell"],ps1:["powershell","powershell"],css:["css","css"],scss:["css","text/x-scss"],less:["css","text/x-less"],sass:["sass","text/x-sass"],md:["markdown","markdown"],proto:["protobuf","protobuf"],ini:["properties","properties"],cnf:["properties","properties"],conf:["properties","properties"],properties:["properties","properties"]};
<!doctype html>
<html>
    <head>
        <title>HongsCORE::Login</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <base href="../">
        <link rel="icon" type="image/x-icon" href="favicon.ico"/>
        <link rel="stylesheet" type="text/css" href="static/assets/css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="static/assets/css/hongscore.min.css"/>
        <!--[if glt IE8.0]>
        <script type="text/javascript" src="static/addons/respond/respond.min.js"></script>
        <![endif]-->
        <script type="text/javascript" src="static/assets/jquery.min.js"></script>
        <script type="text/javascript" src="static/assets/bootstrap.min.js"></script>
        <script type="text/javascript" src="static/assets/hongscore.min.js"></script>
        <script type="text/javascript" src="common/conf/default.js"></script>
        <script type="text/javascript" src="common/lang/default.js"></script>
    </head>
    <body>
        <div class="jumbotron" style="background-color: #fff; color: #444;">
            <div class="container">
                <h1>您好!</h1>
                <p> 欢迎您的光临, 请登录或注册... </p>
                <ol class="row nav nav-tabs" style="padding-left:1em;" data-toggle="hsTabs">
                    <li><a href="javascript:;" data-hash="#in">登录</a></li>
                    <li><a href="javascript:;" data-hash="#on">注册</a></li>
                </ol>
                <div class="labs">
                    <div>
                        <form action="centre/sign/create.act?ab=.errs" data-module="hsForm" id="sign-in-form" class="form-horizontal">
                            <input type="hidden" name="place" value="centre"/>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label">用户名</label>
                                <div class="col-sm-6">
                                    <input name="username" type="text"     value="" class="form-control" required="required"/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label">密　码</label>
                                <div class="col-sm-6">
                                    <input name="password" type="password" value="" class="form-control" required="required"/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label">验证码</label>
                                <div class="col-sm-3">
                                    <input name="captcode" type="text"     value="" class="form-control" required="required" autocomplete="off"/>
                                </div>
                                <div class="col-sm-3">
                                    <img src="" alt="" class="hide" title="看不清? 点一下换一个."/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-6 col-sm-offset-3">
                                    <button type="submit" class="btn btn-lg btn-primary">立即登录</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div>
                        <form action="centre/sign/user/create.act?ab=.errs" data-module="hsForm" id="sign-on-form" class="form-horizontal">
                            <input type="hidden" name="place" value="centre"/>
                            <div class="form-group riw">
                                <label class="col-sm-3 control-label">名　称</label>
                                <div class="col-sm-6">
                                    <input name="name"     type="text"     value="" class="form-control" required="required"/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label">用户名</label>
                                <div class="col-sm-6">
                                    <input name="username" type="text"     value="" class="form-control" required="required" data-unique="centre/sign/user/unique.act"/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label">密　码</label>
                                <div class="col-sm-6">
                                    <input name="password" type="password" value="" class="form-control" required="required" data-relate="passcode" placeholder="请输入密码"/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-6 col-sm-offset-3">
                                    <input name="passcode" type="password" value="" class="form-control" required="required" data-repeat="password" placeholder="请重复密码"/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-3 control-label">验证码</label>
                                <div class="col-sm-3">
                                    <input name="captcode" type="text"     value="" class="form-control" required="required" autocomplete="off"/>
                                </div>
                                <div class="col-sm-3">
                                    <img src="" alt="" class="hide" title="看不清? 点一下换一个."/>
                                </div>
                                <div class="col-sm-3 help-block form-control-static"></div>
                            </div>
                            <div class="form-group row">
                                <div class="col-sm-6 col-sm-offset-3">
                                    <button type="submit" class="btn btn-lg btn-primary">开始注册</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <nav id="footbox" class="navbar">
            <div class="container">
                <blockquote><p>Copyleft &copy; 2018 黄弘. <small class="pull-right">Powered by <a href="https://github.com/ihongs/HongsCORE/" target="_blank">HongsCORE</a>, and <a href="power.html" target="_blank">others</a>.</small></p></blockquote>
            </div>
        </nav>
        <script type="text/javascript">
            (function($) {
                var context = $("#sign-in-form,#sign-on-form").removeAttr("id");

                // 表单
                context.on("saveBack", function() {
                    location.replace(hsFixUri(hsGetParam(location.href, "r") || "centre/"));
                });
                context.on("saveFail", function() {
                    context.find( "img" ).click();
                    context.find("[name=captcode]").val("");
                });

                // 验证
                context.find(".form-group img").click(function() {
                    $(this).attr("src", "centre/capt/create.act?b=222222&f=cccccc&h=43&_="
                    + Math.random( ));
                });
                context.find("[name=captcode]").focus(function() {
                    var img = $(this).closest(".form-group").find("img");
                    if (img.attr("src") == "" ) {
                        img.attr("class" , "" )
                           .click(  );
                    }
                });

                // 页签
                $("[data-hash]").click(function( ) {
                    location.replace(
                        location.pathname +
                        location.search   +
                        $(this).attr("data-hash"));
                });
                if (location.hash) {
                    $('[data-hash="' + location.hash + '"]')
                        .parent( ).attr( "class", "active" );
                }
            })(jQuery);
        </script>
    </body>
</html>
<?xml version="1.0" encoding="utf-8" standalone="no"?>
<root>
    <form name="news">
        <field name="@" text="文章">
            <param name="listable">?</param>
            <param name="fitrable">?</param>
            <param name="sortable">?</param>
            <param name="nameable" type="set">name</param>
            <param name="srchable" type="set">name,note,word,author,source</param>
        </field>
        <field name="id" text="ID" type="hidden"/>
        <field name="type" text="类型" type="enum" required="Y">
            <param name="conf">centra/data/docket/news</param>
            <param name="enum">news_type</param>
            <param name="listable">true</param>
        </field>
        <field name="name" text="标题" type="string" required="Y">
            <param name="listable">true</param>
            <param name="srchable">true</param>
            <param name="maxlength">500</param>
        </field>
        <field name="author" text="作者" type="string">
            <param name="listable">false</param>
            <param name="srchable">true</param>
            <param name="maxlength">100</param>
        </field>
        <field name="source" text="来源" type="string">
            <param name="listable">false</param>
            <param name="srchable">true</param>
            <param name="maxlength">100</param>
        </field>
        <field name="note" text="简介" type="search">
            <param name="listable">false</param>
            <param name="srchable">true</param>
            <param name="maxlength">500</param>
        </field>
        <field name="tags" text="标签" type="string" repeated="Y">
            <param name="listable">false</param>
            <param name="srchable">true</param>
            <param name="maxlength">50</param>
            <param name="maxrepeat">50</param>
            <param name="split">,</param>
        </field>
        <field name="logo" text="图标" type="image" rule="Thumb">
            <param name="listable">false</param>
            <param name="size">300*300</param>
            <param name="href">static/upload/data</param>
            <param name="path">static/upload/data</param>
            <param name="temp">static/upload/temp</param>
        </field>
        <field name="body" text="内容" type="textarea">
            <param name="listable">false</param>
            <param name="srchable">false</param>
            <param name="fitrable">false</param>
            <param name="sortable">false</param>
            <param name="type">html</param>
            <param name="lucene-type">stored</param>
        </field>
        <field name="deny_comment" text="允许评论" type="enum">
            <param name="listable">false</param>
            <param name="conf">centra/data/docket/news</param>
            <param name="enum">onoff</param>
        </field>
        <field name="deny_endorse" text="允许评分" type="enum">
            <param name="listable">false</param>
            <param name="conf">centra/data/docket/news</param>
            <param name="enum">onoff</param>
        </field>
        <field name="word" text="搜索" type="search">
            <param name="editable">false</param>
            <param name="unstored">true</param>
        </field>
        <field name="cuid" text="创建" type="fork">
            <param name="default">=$uid</param>
            <param name="default-create">true</param>
            <param name="default-always">true</param>
            <param name="editable">false</param>
            <param name="data-vk">id</param>
            <param name="data-tk">name</param>
            <param name="data-ak">user</param>
            <param name="data-at">centra/member/user/list</param>
        </field>
        <field name="muid" text="修改" type="fork">
            <param name="listable">true</param>
            <param name="default">=$uid</param>
            <param name="default-always">true</param>
            <param name="default-create">false</param>
            <param name="editable">false</param>
            <param name="data-vk">id</param>
            <param name="data-tk">name</param>
            <param name="data-ak">user</param>
            <param name="data-at">centra/member/user/list</param>
        </field>
        <field name="ctime" text="创建时间" type="datetime">
            <param name="type">timestamp</param>
            <param name="default">=%now</param>
            <param name="default-create">true</param>
            <param name="default-always">true</param>
            <param name="editable">false</param>
        </field>
        <field name="mtime" text="修改时间" type="datetime">
            <param name="listable">true</param>
            <param name="type">timestamp</param>
            <param name="default">=%now</param>
            <param name="default-always">true</param>
            <param name="default-create">false</param>
            <param name="editable">false</param>
        </field>
        <field name="statist" text="统计" type="fork" rule="Ignore">
            <param name="listable">true</param>
            <param name="editable">false</param>
            <param name="data-uk">id</param>
            <param name="data-vk">link_id</param>
            <param name="data-ak">statist</param>
            <param name="data-at">centre/medium/statist/search?link=article</param>
        </field>
    </form>
    <enum name="news_type">
        <value code="base">标准</value>
        <value code="pure">精简</value>
        <value code="link">链接</value>
    </enum>
    <enum name="onoff">
        <value code="1">允许</value>
        <value code="0">拒绝</value>
    </enum>
</root>
